function maximize_restore(element) { var popup_element = getParentElementWithSpecifiedClass(element, 'modalPopup'); var HandleDiv = getParentElementWithSpecifiedClass(element, 'Handel_Panel'); var contentdiv = HandleDiv.nextElementSibling; contentdiv.style.height = window.contentheight + "px"; popup_element.style.position = "absolute"; popup_element.style.left = window.divleft; popup_element.style.top = window.divtop; popup_element.style.height = (window.div_height - 2) + "px"; popup_element.style.width = window.div_width + "px"; var maxbutton = element.previousElementSibling; maxbutton.style.display = "block"; var restorebutton = element; restorebutton.style.display = "none" } function getParentElementWithSpecifiedClass(element, cssclass) { var parentelement = element; while (parentelement.getAttribute('class') != cssclass) { parentelement = parentelement.parentElement } return parentelement } function maximize(element) { var popup_element = getParentElementWithSpecifiedClass(element, 'modalPopup'); var HandleDiv = getParentElementWithSpecifiedClass(element, 'Handel_Panel'); var contentdiv = HandleDiv.nextElementSibling; window.div_height = popup_element.offsetHeight; window.div_width = popup_element.offsetWidth; window.divtop = popup_element.style.top; window.divleft = popup_element.style.left; window.contentheight = contentdiv.offsetHeight; var maxbutton = element; maxbutton.style.display = "none"; var restorebutton = element.nextElementSibling; restorebutton.style.display = "block"; var myWidth = 0, myHeight = 0; if (typeof (window.innerWidth) == 'number') { myWidth = window.innerWidth; myHeight = window.innerHeight } else if (document.documentElement && (document.documentElement.clientWidth || document.documentElement.clientHeight)) { myWidth = document.documentElement.clientWidth; myHeight = document.documentElement.clientHeight } else if (document.body && (document.body.clientWidth || document.body.clientHeight)) { myWidth = document.body.clientWidth; myHeight = document.body.clientHeight } myWidth = myWidth - 40; myHeight = myHeight - 20; contentdiv.style.height = (myHeight - HandleDiv.offsetHeight) + "px"; popup_element.style.position = "absolute"; popup_element.style.left = (window.pageXOffset + 10) + "px"; popup_element.style.height = myHeight + "px"; popup_element.style.width = myWidth + "px"; popup_element.style.top = (window.pageYOffset + 5) + "px" }